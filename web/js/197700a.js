(function(a){a.fn.mCustomScrollbar=function(o,e,m,j,p,c,f,g){var n=a(this).attr("id");var s=a("#"+n+" .customScrollBox");var q=a("#"+n+" .customScrollBox .container");var i=a("#"+n+" .customScrollBox .content");var k=a("#"+n+" .dragger_container");var d=a("#"+n+" .dragger");var r=a("#"+n+" .scrollUpBtn");var h=a("#"+n+" .scrollDownBtn");var b=a("#"+n+" .customScrollBox .horWrapper");if(!s.data("minDraggerHeight")){s.data("minDraggerHeight",d.height())}if(!s.data("minDraggerWidth")){s.data("minDraggerWidth",d.width())}if(!s.data("contentHeight")){s.data("contentHeight",q.height())}if(!s.data("contentWidth")){s.data("contentWidth",q.width())}l();function l(C){if(o=="horizontal"){var J=s.width();b.css("width",999999);s.data("totalContent",q.width());b.css("width",s.data("totalContent"));if(q.width()>J){d.css("display","block");if(C!="resize"&&q.width()!=s.data("contentWidth")){d.css("left",0);q.css("left",0);s.data("contentWidth",q.width())}k.css("display","block");h.css("display","inline-block");r.css("display","inline-block");var E=i.width();var O=s.data("minDraggerWidth");var H=k.width();function B(){if(p=="auto"){var Q=Math.round(E-((E-J)*1.3));if(Q<=O){d.css("width",O+"px")}else{if(Q>=H){d.css("width",H-10+"px")}else{d.css("width",Q+"px")}}}}B();var y=0;var I=d.width();d.draggable({axis:"x",containment:"parent",drag:function(Q,R){w()},stop:function(Q,R){A()}});k.click(function(T){var S=a(this);var Q=(T.pageX-S.offset().left);if(Q<d.position().left||Q>(d.position().left+d.width())){var R=Q+d.width();if(R<k.width()){d.css("left",Q);w()}else{d.css("left",k.width()-d.width());w()}}});a(function(Q){if(c=="yes"){s.unbind("mousewheel");s.bind("mousewheel",function(S,T){var R=Math.abs(T*10);d.css("left",d.position().left-(T*R));w();if(d.position().left<0){d.css("left",0);q.stop();w()}if(d.position().left>k.width()-d.width()){d.css("left",k.width()-d.width());q.stop();w()}return false})}});if(f=="yes"){h.mouseup(function(){L()}).mousedown(function(){t("down")}).mouseout(function(){L()});r.mouseup(function(){L()}).mousedown(function(){t("up")}).mouseout(function(){L()});h.click(function(Q){Q.preventDefault()});r.click(function(Q){Q.preventDefault()});btnsScrollTimerX=0;function t(R){if(R=="down"){var Q=k.width()-d.width();var S=Math.abs(d.position().left-Q)*(100/g);d.stop().animate({left:Q},S,"linear")}else{var Q=0;var S=Math.abs(d.position().left-Q)*(100/g);d.stop().animate({left:-Q},S,"linear")}clearInterval(btnsScrollTimerX);btnsScrollTimerX=setInterval(w,20)}function L(){clearInterval(btnsScrollTimerX);d.stop()}}var G=(E-J)/(H-I);function w(){var R=d.position().left;var Q=-R*G;var S=q.position().left-Q;q.stop().animate({left:"-="+S},e,m)}}else{d.css("left",0).css("display","none");q.css("left",0);k.css("display","none");h.css("display","none");r.css("display","none")}}else{var F=s.height();if(q.height()>F){d.css("display","block");if(C!="resize"&&q.height()!=s.data("contentHeight")){d.css("top",0);q.css("top",0);s.data("contentHeight",q.height())}k.css("display","block");h.css("display","inline-block");r.css("display","inline-block");var E=i.height();var N=s.data("minDraggerHeight");var u=k.height();function D(){if(p=="auto"){var Q=Math.round(E-((E-F)*1.3));if(Q<=N){d.css("height",N+"px").css("line-height",N+"px")}else{if(Q>=u){d.css("height",u-10+"px").css("line-height",u-10+"px")}else{d.css("height",Q+"px").css("line-height",Q+"px")}}}}D();var v=0;var z=d.height();d.draggable({axis:"y",containment:"parent",drag:function(Q,R){P()},stop:function(Q,R){A()}});k.click(function(T){var S=a(this);var Q=(T.pageY-S.offset().top);if(Q<d.position().top||Q>(d.position().top+d.height())){var R=Q+d.height();if(R<k.height()){d.css("top",Q);P()}else{d.css("top",k.height()-d.height());P()}}});a(function(Q){if(c=="yes"){s.unbind("mousewheel");s.bind("mousewheel",function(S,T){var R=Math.abs(T*10);d.css("top",d.position().top-(T*R));P();if(d.position().top<0){d.css("top",0);q.stop();P()}if(d.position().top>k.height()-d.height()){d.css("top",k.height()-d.height());q.stop();P()}return false})}});if(f=="yes"){h.mouseup(function(){x()}).mousedown(function(){M("down")}).mouseout(function(){x()});r.mouseup(function(){x()}).mousedown(function(){M("up")}).mouseout(function(){x()});h.click(function(Q){Q.preventDefault()});r.click(function(Q){Q.preventDefault()});btnsScrollTimer=0;function M(R){if(R=="down"){var Q=k.height()-d.height();var S=Math.abs(d.position().top-Q)*(100/g);d.stop().animate({top:Q},S,"linear")}else{var Q=0;var S=Math.abs(d.position().top-Q)*(100/g);d.stop().animate({top:-Q},S,"linear")}clearInterval(btnsScrollTimer);btnsScrollTimer=setInterval(P,20)}function x(){clearInterval(btnsScrollTimer);d.stop()}}if(j<1){j=1}var G=(E-(F/j))/(u-z);function P(){var Q=d.position().top;var S=-Q*G;var R=q.position().top-S;q.stop().animate({top:"-="+R},e,m)}}else{d.css("top",0).css("display","none");q.css("top",0);k.css("display","none");h.css("display","none");r.css("display","none")}}d.mouseup(function(){A()}).mousedown(function(){K()});function K(){d.addClass("dragger_pressed")}function A(){d.removeClass("dragger_pressed")}}a(window).resize(function(){if(o=="horizontal"){if(d.position().left>k.width()-d.width()){d.css("left",k.width()-d.width())}}else{if(d.position().top>k.height()-d.height()){d.css("top",k.height()-d.height())}}l("resize")})}})(jQuery);